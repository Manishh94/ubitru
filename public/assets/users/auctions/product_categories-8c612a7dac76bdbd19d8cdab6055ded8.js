function initCategorySelects(e,t,i){var n=document.getElementById("first_level_category"),a=document.getElementById("second_level_category");$.when(loadCategories(e,n,t)).then(function(){loadCategories(t,a,i)})}function loadCategories(e,t,i){return $.ajax({type:"GET",url:"/load_product_categories",data:{id:e},dataType:"json",success:function(e){reloadCategorySelects(e,t,i)}})}function reloadCategorySelects(e,t,i){var n;null!=document.getElementById("second_level_category")?n=document.getElementById("second_level_category"):null!=document.getElementById("affiliation_second_level_category")&&(n=document.getElementById("affiliation_second_level_category"));var a;a=t.size<=1?!0:!1,t==n?(t.options.length=0,a&&t.options.add(new Option("Select",""))):(t.options.length=0,n.options.length=0,a&&(t.options.add(new Option("Select","")),n.options.add(new Option("",""))));var s,r;for(s=0;s<e.length;++s)r=e[s],t.options.add(new Option(r.name,r.id,!1,r.id==i));t==n?$("select#second_level_category").multiselect("refresh"):($("select#second_level_category").multiselect("refresh"),$("select#first_level_category").multiselect("refresh"))}$(document).ready(function(){$("select#root_category").change(function(){var e=$(this).val(),t=document.getElementById("first_level_category");loadCategories(e,t)}),$("select#first_level_category").change(function(){var e=$(this).val(),t=document.getElementById("second_level_category");loadCategories(e,t)})});