$(function(){clientSideValidations.callbacks.element.fail=function(e,t,i){i(),e.data("was-invalid",!0),e.data("valid")!==!1&&(e.data("fade-error")?e.closest(".input").find(".error").hide().fadeIn(400):e.closest(".input").find(".error").hide().show("slide",{direction:"up"},500))},clientSideValidations.callbacks.element.pass=function(e,t){e.data("fade-error")?e.closest(".input").find(".error").fadeOut(100,t):e.closest(".input").find(".error").hide("slide",{direction:"up"},200,t)},clientSideValidations.callbacks.form.fail=function(e){var t=window[e.attr("id")],i=e.find(t.error_tag+"."+t.error_class),n=!0;if(i.each(function(){return isInView(this)?(n=!1,!1):void 0}),n){var s=i.eq(0).closest(t.wrapper_tag).offset().top;$(document).scrollTop(s)}};var e=function(){$("form[data-validate]").each(function(){var e=$(this),t=window[e.attr("id")];e.find("select[data-validate]").live("change",function(){$(this).isValid(t.validators)}),e.find("[data-validate]:input").live("keyup click change",function(){var e=$(this);e.data("was-invalid")&&(e.data("changed",!0),e.isValid(t.validators))}).each(function(){var e=$(this);e.parent().find(".error").length&&e.data("was-invalid",!0)});var i=function(e,i){clientSideValidations.formBuilders[t.type].add(e,t,i)},n=function(e){clientSideValidations.formBuilders[t.type].remove(e,t)};e.find("[data-validate]:input:radio").live("focusout",function(){var e=$(this);e.closest("form").find("input:radio[name="+e.attr("name")+"]").each(function(){$(this).isValid(t.validators)})}).live("change",function(){$(this).closest("form").find("input:radio[name="+$(this).attr("name")+"]").data("changed",!0)}).live("element:validate:after",function(e){clientSideValidations.callbacks.element.after($(this),e)}).live("element:validate:before",function(e){clientSideValidations.callbacks.element.before($(this),e)}).live("element:validate:fail",function(e,t){var n=$(this);clientSideValidations.callbacks.element.fail(n,t,function(){i(n,t)},e)}).live("element:validate:pass",function(e){var t=$(this);clientSideValidations.callbacks.element.pass(t,function(){n(t)},e)})})};e(),initFormValidations=function(t){$(t).validate(),e()},clientSideValidations.formBuilders["SimpleForm::FormBuilder"].add=function(e,t,i){var n=e.closest(t.wrapper_tag);n.addClass(t.wrapper_error_class);var s=e.closest(t.wrapper_tag).find(t.error_tag+"."+t.error_class);return s.length?(s.text(i),s.show(),void 0):(s=$("<"+t.error_tag+' class="'+t.error_class+'">'+i+"</"+t.error_tag+">"),n.append(s),void 0)},clientSideValidations.validators.local.greather_or_equal_to_other_attr=function(e,t){var i=e.attr("name").match(/^[^[]+/)[0],n=parseInt($('[name="'+i+"["+t.other_attr+']"]').val());return parseInt(e.val())<n?t.message.replace(t.other_attr,n):void 0},clientSideValidations.validators.local.less_or_equal_to_other_attr=function(e,t){var i=e.attr("name").match(/^[^[]+/)[0],n=parseInt($('[name="'+i+"["+t.other_attr+']"]').val());return parseInt(e.val())>n?t.message.replace(t.other_attr,n):void 0};var t=clientSideValidations.validators.local.presence;clientSideValidations.validators.local.presence=function(e,i){if(!e.is(":radio"))return t.apply(this,arguments);var n=e.closest("form").find("input:radio[name="+e.attr("name")+"]:checked").val();return/^\s*$/.test(n||"")?i.message:void 0};var i=clientSideValidations.validators.local.numericality;clientSideValidations.validators.local.numericality=function(e){return/^\s*$/.test(e.val()||"")?void 0:i.apply(this,arguments)};var n=clientSideValidations.validators.local.format;clientSideValidations.validators.local.format=function(e){return/^\s*$/.test(e.val()||"")?void 0:n.apply(this,arguments)}});