function showLoader(t,e){var i=t.width(),n=t.height(),s="";e&&(s='<span class="mask-txt">'+e+"</span>"),t.find(".mask:first").remove(),t.css("position","relative").css("overflow","hidden").append('<div class="mask">'+s+'<img src="/assets/ajax-loader-7d2e4b29085cd9e12c264f04623f8f24.gif" alt="..."/></div>'),t.find(".mask:first").css({opacity:.8,width:i,height:n,lineHeight:n+"px",top:t.css("padding-top"),left:t.css("padding-left")})}function hideLoader(t){t.find(".mask:first").remove(),t.css("position","").css("overflow","")}function reportError(t){return $("#all-form-errors").html(t).addClass("alert alert-error"),!1}function generate_popup(t,e){$this=$("#"+t),$second_coupon_window=$("#merchant_c_window_"+e);var i=660,n=$(window).width()+100,s="innerWidth=440,height="+i+",resizable=no,location=no,scrollbars=yes";return s+=",left="+n,$second_coupon_window.fancybox({type:"ajax",width:680,height:520,fitToView:!1,autoSize:!1,helpers:{overlay:{closeClick:!1}}}).trigger("click"),!1}function generate_coupon_popup(t){$this=$("#"+t);var e=660,i=$(window).width()+100,n="innerWidth=440,height="+e+",resizable=no,location=no,scrollbars=yes";return n+=",left="+i,window.open($this.attr("href"),"couponsPopup",n),!1}function generate_zip_code_popup(){var t=!1,e="",i=$("#service_keyword").val();return 0==i.length&&(t=!0,e+="* Please provide a search keyword to find services <br/><br/>"),t?($("#sbs-form-errors").html(e),!1):($("#sbs-form-errors").html(""),actual_url=$("#zip_code_popup").attr("href"),new_url=encodeURI($("#zip_code_popup").attr("href")+"?search_by_services="+$.trim(i)),$("#zip_code_popup").attr("href",new_url),console.log("cming here"),$("#zip_code_popup").fancybox({type:"ajax",fitToView:!1,width:380,height:380,helpers:{overlay:{closeClick:!1}}}).trigger("click"),$("#zip_code_popup").attr("href",actual_url),$("#service_keyword").val(""),void 0)}function generate_direct_sign_up_form(){$("a#direct_user_sign_up").fancybox({type:"iframe",width:420,height:300,fitToView:!1,autoSize:!1,helpers:{overlay:{closeClick:!1}}})}function check_user_email(t){return $.ajax({type:"POST",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},async:!1,url:"/check_subscriber_email",data:"email="+t})}function generate_services_search_results_popup(){if($("#sbs-form-errors").html(""),keyword=$("#service_keyword").val(),""==$.trim(keyword)&&(keyword=$("input[type=hidden]#service_keyword").val()),""==$.trim(keyword))return $("#sbs-form-errors").html("* Please provide a search keyword to find services"),!1;zip_code=$("#ss_zip_code").val();var t=$.trim($(".zip-user-id").val());return""==$.trim(zip_code)&&""==t?($("#zip-code-form-errors").html("* Please enter Zip code"),!1):void 0===$.trim(zip_code)&&void 0===t?($("#zip-code-form-errors").html("* Please enter Zip code"),!1):(void 0===zip_code?(results_page_url=$("#services_results_popup").attr("href"),new_url=encodeURI(results_page_url+"?search_by_services="+$.trim(keyword)),$("#services_results_popup").attr("href",new_url),$.fancybox.close(),$("#services_results_popup").fancybox({type:"ajax",width:680,height:380,autosize:!1,helpers:{overlay:{closeClick:!1}}}).trigger("click"),$("#services_results_popup").attr("href",results_page_url),$("#service_keyword").val("")):(results_page_url=$("#services_results_popup_with_zc").attr("href"),new_url=encodeURI(results_page_url+"?search_by_services="+$.trim(keyword)+"&zip_code="+zip_code),$("#services_results_popup_with_zc").attr("href",new_url),$("#services_results_popup_with_zc").fancybox({type:"ajax",width:680,height:380,helpers:{overlay:{closeClick:!1}}}).trigger("click"),$("#services_results_popup_with_zc").attr("href",results_page_url),$("#service_keyword").val("")),!1)}function createCookie(t,e,i){if(i){var n=new Date;n.setTime(n.getTime()+1e3*60*60*24*i);var s="; expires="+n.toGMTString()}else var s="";document.cookie=t+"="+e+s+"; path=/"}function readCookie(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return null}function eraseCookie(t){createCookie(t,"",-1)}function generate_submit_coupon_fb(){return $.fancybox.close(),$(".user-submit-coupon-fb").fancybox({type:"iframe",width:600,height:350}).trigger("click"),!1}function generate_add_service_providers_popup(){$.fancybox.close(),$("#service_providers_form").fancybox({type:"iframe",width:580,height:420,fitToView:!1,autoSize:!1,helpers:{overlay:{closeClick:!1}}})}function closeIFrame(){setTimeout("parent.$.fancybox.close()",5e3)}$(document).ready(function(){$("a#cd_logo").fancybox()}),$(document).ready(function(){$("#").submit(function(){var t=!1,e="",i=$("#user_email").val(),n=$("#user_zip_code").val();if(0==i.length&&(t=!0,e+="* Email can't be blank <br/>"),0==n.length&&(t=!0,e+="* Zip code can't be blank <br/>"),n.length<5&&(t=!0,e+="* Minimum 5 numeric characters should be present. <br/>"),t)reportError(e);else{$("#all-form-errors").html("");var s=$("#direct_user_sign_up_form");$("#processing-message").show(),$("#processing-message").html("* We are processing your request, please wait.<br/> Do not refresh the page.</p>");var o=s.serialize();$.ajax({type:"POST",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},url:s.attr("action"),data:o,dataType:"script",complete:function(){s.get(0).reset(),$("#processing-message").hide()},error:function(){}})}return!1})}),$(document).ready(function(){$("form#coupon_window_signup").submit(function(){var t=!1,e="",i=$("#user_email").val();if($("#user_zip_code").val(),i.length>0&&(t=check_user_email(i).done(),"true"==jQuery.parseJSON(t.responseText).status?(t=!0,e="* Email is invalid, you already have account registered with us. <br/>"+e):t=!1),0==i.length&&(t=!0,e+="* Email cannot be blank <br/>"),t)$("#cp-sign-up-form-errors").html(e);else{$("#cp-sign-up-form-errors").html("");var n=$("#coupon_window_signup");$("#processing-message").show(),$("#processing-message").html("* We are processing your request, please wait.<br/> Do not refresh the page.</p>");var s=n.serialize();$.ajax({type:"POST",url:n.attr("action"),data:s,dataType:"script",complete:function(){n.get(0).reset(),$("#processing-message").hide()},error:function(){alert("Something went wrong!")}})}return!1})}),$(document).ready(function(){$("#hp_sms_form").submit(function(){var t=!1,e="",i=$("#user_phone_number").val();if(0==i.length&&(t=!0,e+="* Phone number cannot be blank <br/>"),i.length<10&&(t=!0,e+="* Invalid Phone number, Phone number cannot be less than 10 digits. <br/>"),t)$("#sms-form-errors").html(e);else{$("#sms-form-errors").html("");var n=$("#hp_sms_form");$("#sms-processing-message").show(),$("#sms-processing-message").html(""),$("#sms-processing-message").html("* We are processing your request, please wait.<br/> Do not refresh the page.</p>");var s=n.serialize();$.ajax({type:"POST",url:n.attr("action"),data:s,dataType:"script",complete:function(){n.get(0).reset()},error:function(){alert("Something went wrong!, please try after sometime.")}})}return!1})}),$(document).ready(function(){$("#new_service_provider_form").submit(function(){$("#favorite-merchant-errors").html("");var t=!1,e="",i=$("#merchant_name").val(),n=$("#merchant_address").val(),s=$("#email").val(),o=$("#phone").val(),a=/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i;if(""==$.trim(o)&&(t=!0,e+="* Merchant Phone can't be blank <br />"),""==$.trim(s)?(t=!0,e+="* Merchant Email can't be blank <br />"):a.test($.trim(s))||(t=!0,e+="* Merchant Email is not valid <br />"),0==i.length&&(t=!0,e+="* Merchant Name can't be blank <br/>"),0==n.length&&(t=!0,e+="* Merchant Address can't be blank <br/>"),t){var r=$("#favorite-merchant-errors");r.html(e),r.addClass("alert alert-error")}else{$("#all-form-errors").html("");var l=$("#new_service_provider_form");$("#sp-processing-message").show(),$("#sp-processing-message").html(""),$("#sp-processing-message").html("* We are processing your request, please wait.<br/> Do not refresh the page.</p>");var c=l.serialize();$.ajax({type:"POST",url:l.attr("action"),data:c,dataType:"script",complete:function(){l.get(0).reset()},error:function(){alert("Something went wrong!, please try after sometime.")}})}return!1})}),$(document).ready(function(){$("#sbm_search_bar").submit(function(){var t=!1,e="",i=$("#search_by_merchants").val();return 0==i.length&&(t=!0,e+="* Please provide a search keyword to find your favorite merchant <br/>"),console.log(t),t?reportError(e):($("#all-form-errors").html(""),$("#sbm_search_bar").submit()),!1})}),$(document).ready(function(){$("#sbs_search_bar").submit(function(){var t=!1,e="",i=$("#service_keyword").val();return 0==i.length&&(t=!0,e+="* Please provide a search keyword to find services <br/><br/>"),console.log(t),t?$("#sbs-form-errors").html(e):($("#sbs-form-errors").html(""),$("#sbs_subBtn").trigger("click")),!1})}),$(document).ready(function(){$("#sbs_zip_code_form").submit(function(){var t=!1,e="",i=$("#ss_zip_code").val();return 0==i.length&&(t=!0,e+="* Please provide a zip code<br/><br/>"),i.length<5&&(t=!0,e+="* Zip code should be of atleast 5 digits.<br/><br/>"),0==$.isNumeric(i)&&(t=!0,e+="* Zip code is invalid, Should be 5 digits.<br/><br/>"),console.log(t),t?$("#zip-code-form-errors").html(e):($("#zip-code-form-errors").html(""),$("#sbs_zc_subBtn").trigger("click")),!1})}),$(function(){var t;return t=!1,$("a.load-more-posts","a.load-less-posts").on("click",function(e,i){return!t&&i?(t=!0,$.getScript($(this).attr("href"),function(){return t=!1})):void 0})}),$(document).ready(function(){var t=window.location.pathname,e=readCookie("hp_popup"),i=$("#hp_popup").length;"/"==t&&i&&!e&&(createCookie("hp_popup","loaded"),$.fancybox.open("#hp_popup")),$(document).on("click",".view-number-results",function(){var t=$(this),e=t.data("id");$("#result-company-phone-"+e).show(),$("#view-number-results-"+e).hide()}),$(document).on("click",".result-company-phone",function(){var t=$(this),e=t.data("id");$("#result-company-phone-"+e).hide(),$("#view-number-results-"+e).show()}),$(".user-coupon-submit-btn").on("click",function(t){t.preventDefault(),$(".user-coupon-submit-btn").attr("disabled","disabled");var e="";$("#store_website").val();var i=$("#offer_type").val(),n=$("#code").val(),s=$("#discount_description").val();$("#recaptcha_challenge_field").val();var o=$("#recaptcha_response_field").val(),a=$("#printable_coupon").val(),r=!1;if(""==$.trim(store_website)&&(e+="* Store website is mandatory <br />"),""==$.trim(i)&&(e+="* Offer type is mandatory <br />"),""==$.trim(n)&&(e+="* Coupon code is mandatory <br />"),""==$.trim(s)&&(e+="* Discount description is mandatory <br />"),""==$.trim(o)&&(e+="* Recaptcha is mandatory <br />"),"Printable Coupon"==$.trim(i)&&(""==$.trim(a)?e+="* Printable coupon file not attached <br />":r=!0),""==$.trim(e)){var l=$(".user-coupon-form");$("#processing-message").show(),$("#processing-message").html("* We are processing your request, please wait.<br/> Do not refresh the page.</p>");var c=l.serialize(),h=l.attr("action");$.ajax({type:"POST",url:h,data:c,dataType:"script",contentType:"multipart/form-data",complete:function(){l.get(0).reset()},error:function(){$(".user-coupon-submit-btn").removeAttr("disabled")}})}else $(".user-coupon-submit-btn").removeAttr("disabled"),$("#processing-message").html("<p style=font-size:20px;>"+e+"</p>")}),$(".offer-type").on("click",function(){$(".printable-coupon-file-field").hide();var t=$(this);$(".offer-type").each(function(t,e){var i=$(e);i.hasClass("orange-button-link")&&i.removeClass("orange-button-link")}),t.addClass("orange-button-link"),$("input[type=hidden].offer-type-hidden").val(t.text()),"Printable Coupon"==t.text()&&$(".printable-coupon-file-field").show()}),$(".user-coupon-submit-btn-new").on("click",function(t){t.preventDefault(),$(".user-coupon-submit-btn-new").attr("disabled","disabled");var e="";$("#store_website").val();var i=$("#offer_type").val(),n=$("#code").val(),s=$("#discount_description").val();$("#recaptcha_challenge_field").val();var o=$("#recaptcha_response_field").val(),a=$("#printable_coupon").val(),r=!1;""==$.trim(store_website)&&(e+="* Store website is mandatory <br />"),""==$.trim(i)&&(e+="* Offer type is mandatory <br />"),""==$.trim(n)&&(e+="* Coupon code is mandatory <br />"),""==$.trim(s)&&(e+="* Discount description is mandatory <br />"),""==$.trim(o)&&(e+="* Recaptcha is mandatory <br />"),"Printable Coupon"==$.trim(i)&&(""==$.trim(a)?e+="* Printable coupon file not attached <br />":r=!0),""==$.trim(e)?$("#processing-message").html("Trying to submit the form"):($(".user-coupon-submit-btn-new").removeAttr("disabled"),$("#processing-message").html(""+e+"</p>").show())}),$(".coming-soon-popup").click(function(){$.fancybox.open("#coming_soon_popup")}),$("#get-money-box, #start-now, .browser-logo-enabled").click(function(){window.location.href="/mm-extension"}),$(".view_more").click(function(){$(".more_content").toggleClass("show_more"),"view more"==$(this).html()?($(".more").hide(),$(this).html("view less")):($(".more").show(),$(this).html("view more"))}),$(".user-service-provider-toggle-link").click(function(){$(".favorite-service-provider-form").toggle("slow")}),$(".user-submit-coupon-link").click(function(){$(".submit-coupon-user-section").toggle("slow")}),$(".view-more-coupon-description").click(function(){var t=$(this).attr("id"),e=$("#cdesc_"+t);e.find(".more_content").toggleClass("show_more"),"view more"==$(this).html()?(e.find(".more").hide(),$(this).html("view less")):(e.find(".more").show(),$(this).html("view more"))})});