var EXT={};EXT.WEB_APP_HOST="muddleme.com",EXT.ORIGINS=["http://www.google.com","https://www.google.com","http://www.yahoo.com","https://www.yahoo.com","http://search.yahoo.com","https://search.yahoo.com"],EXT.SIGNED_IN_COOKIE_NAME="signed_in",EXT.CHECK_USER_SESSION_COMMAND="extension.check.user.session.",EXT.GET_USER_INFO_COMMAND="extension.get.user.info",EXT.LOGIN_COMMAND="extension.login",EXT.LOGOUT_COMMAND="extension.logout",EXT.ACTIVATE_MERCHANT_COMMAND="extension.activate.merchant",EXT.SEARCH_COMMAND="extension.search",EXT.SEARCH_BY_LINKS_COMMAND="extension.search.by.links",$(function(){function e(e){var t=e.command;$.ajax(e.request.url,{type:e.request.method,data:e.request.body||e.request.params}).done(function(e){window.parent.postMessage({command:t,response:e},i)})}function t(t){if(-1!=$.inArray(t.origin,EXT.ORIGINS)){i=t.origin;var n=t.data;switch(n.command){case EXT.CHECK_USER_SESSION_COMMAND:window.parent.postMessage({command:n.command,response:void 0!=$.cookie(EXT.SIGNED_IN_COOKIE_NAME)},i);break;case EXT.GET_USER_INFO_COMMAND:case EXT.LOGIN_COMMAND:case EXT.LOGOUT_COMMAND:case EXT.SEARCH_COMMAND:case EXT.SEARCH_BY_LINKS_COMMAND:case EXT.ACTIVATE_MERCHANT_COMMAND:e(n)}}}var i;window.addEventListener("message",t,!1)});