/*!
Video.js - HTML5 Video Player
Version 3.2.0

LGPL v3 LICENSE INFO
This file is part of Video.js. Copyright 2011 Zencoder, Inc.

Video.js is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Video.js is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Video.js.  If not, see <http://www.gnu.org/licenses/>.
*/
!function(window,undefined){function returnTrue(){return!0}function returnFalse(){return!1}var document=window.document;document.createElement("video"),document.createElement("audio");var VideoJS=function(e,t,i){var n;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),_V_.players[e])return _V_.players[e];n=_V_.el(e)}else n=e;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (VideoJS)");return n.player||new _V_.Player(n,t,i)},_V_=VideoJS,CDN_VERSION="3.2";VideoJS.players={},VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},"GENERATED_CDN_VSN"!=CDN_VERSION&&(_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"),_V_.merge=function(e,t,i){t||(t={});for(var n in t)!t.hasOwnProperty(n)||i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e},_V_.extend=function(e){this.merge(this,e,!0)},_V_.extend({tech:{},controlSets:{},isIE:function(){return!1},isFF:function(){return!!_V_.ua.match("Firefox")},isIPad:function(){return null!==navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!==navigator.userAgent.match(/iPhone/i)},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var e=navigator.userAgent.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0},isAndroid:function(){return null!==navigator.userAgent.match(/Android.*AppleWebKit/i)},androidVersion:function(){var e=navigator.userAgent.match(/Android (\d+)\./i);return e&&e[1]?e[1]:void 0},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(e,t){if(e&&0!==e.length)for(var i=0,n=e.length;n>i;i++)t.call(this,e[i],i)},eachProp:function(e,t){if(e)for(var i in e)e.hasOwnProperty(i)&&t.call(this,i,e[i])},el:function(e){return document.getElementById(e)},createElement:function(e,t){var i,n=document.createElement(e);for(i in t)t.hasOwnProperty(i)&&(-1!==i.indexOf("-")?n.setAttribute(i,t[i]):n[i]=t[i]);return n},insertFirst:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},addClass:function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},removeClass:function(e,t){if(-1!=e.className.indexOf(t)){var i=e.className.split(" ");i.splice(i.indexOf(t),1),e.className=i.join(" ")}},remove:function(e,t){if(t){var i=t.indexOf(e);return-1!=i?t.splice(i,1):void 0}},blockTextSelection:function(){document.body.focus(),document.onselectstart=function(){return!1}},unblockTextSelection:function(){document.onselectstart=function(){return!0}},formatTime:function(e,t){t=t||e;var i=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return s=s>0||a>0?s+":":"",n=((s||o>=10)&&10>n?"0"+n:n)+":",i=10>i?"0"+i:i,s+n+i},uc:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getRelativePosition:function(e,t){return Math.max(0,Math.min(1,(e-_V_.findPosX(t))/t.offsetWidth))},getComputedStyleValue:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},trim:function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},isEmpty:function(e){for(var t in e)return!1;return!0},createTimeRange:function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(e){var t=e[_V_.expando];return t||(t=e[_V_.expando]=_V_.guid++,_V_.cache[t]={}),_V_.cache[t]},removeData:function(e){var t=e[_V_.expando];if(t){delete _V_.cache[t];try{delete e[_V_.expando]}catch(i){e.removeAttribute?e.removeAttribute(_V_.expando):e[_V_.expando]=null}}},proxy:function(e,t,i){t.guid||(t.guid=_V_.guid++);var n=function(){return t.apply(e,arguments)};return n.guid=i?i+"_"+t.guid:t.guid,n},get:function(e,t,i){var n=0==e.indexOf("file:")||0==window.location.href.indexOf("file:")&&-1==e.indexOf("http:");"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("This browser does not support XMLHttpRequest.")});var s=new XMLHttpRequest;try{s.open("GET",e)}catch(o){return _V_.log("VideoJS XMLHttpRequest (open)",o),!1}s.onreadystatechange=_V_.proxy(this,function(){4==s.readyState&&(200==s.status||n&&0==s.status?t(s.responseText):i&&i())});try{s.send()}catch(o){_V_.log("VideoJS XMLHttpRequest (send)",o),i&&i(o)}},setLocalStorage:function(e,t){var i=window.localStorage||!1;if(i)try{i[e]=t}catch(n){22==n.code||1014==n.code?_V_.log("LocalStorage Full (VideoJS)",n):_V_.log("LocalStorage Error (VideoJS)",n)}},getAbsoluteURL:function(e){return e.match(/^https?:\/\//)||(e=_V_.createElement("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e}}),_V_.log=function(){if(_V_.log.history=_V_.log.history||[],_V_.log.history.push(arguments),window.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);"object"==typeof console.log?_V_.log.apply.call(console.log,console,e):console.log.apply(console,e)}},function(e){function t(){}for(var i,n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=n.pop();)e[i]=e[i]||t}(function(){try{return console.log(),window.console}catch(e){return window.console={}}}()),_V_.findPosX="getBoundingClientRect"in document.documentElement?function(e){var t;try{t=e.getBoundingClientRect()}catch(i){}if(!t)return 0;var n=document.documentElement,s=document.body,o=n.clientLeft||s.clientLeft||0,a=window.pageXOffset||s.scrollLeft,r=t.left+a-o;return r}:function(e){for(var t=e.offsetLeft;e=obj.offsetParent;)-1==e.className.indexOf("video-js"),t+=e.offsetLeft;return t},function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;_V_.Class=function(){},_V_.Class.extend=function(i){function n(){return!e&&this.init?this.init.apply(this,arguments):e?void 0:arguments.callee.prototype.init()}var s=this.prototype;e=!0;var o=new this;e=!1;for(var a in i)o[a]="function"==typeof i[a]&&"function"==typeof s[a]&&t.test(i[a])?function(e,t){return function(){var i=this._super;this._super=s[e];var n=t.apply(this,arguments);return this._super=i,n}}(a,i[a]):i[a];return n.prototype=o,n.constructor=n,n.extend=arguments.callee,n}}(),_V_.Component=_V_.Class.extend({init:function(e,t){this.player=e,t=this.options=_V_.merge(this.options||{},t),this.el=t.el?t.el:this.createElement(),this.initComponents()},destroy:function(){},createElement:function(e,t){return _V_.createElement(e||"div",t)},buildCSSClass:function(){return""},initComponents:function(){var e=this.options;e&&e.components&&this.eachProp(e.components,function(e,t){var i=this.proxy(function(){this[e]=this.addComponent(e,t)});t.loadEvent?this.one(t.loadEvent,i):i()})},addComponent:function(e,t){var i,n;return"string"==typeof e?(t=t||{},n=t.componentClass||_V_.uc(e),i=new _V_[n](this.player||this,t)):i=e,this.el.appendChild(i.el),i},removeComponent:function(e){this.el.removeChild(e.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out")},lockShowing:function(){var e=this.el.style;e.display="block",e.opacity=1,e.visiblity="visible"},unlockShowing:function(){var e=this.el.style;e.display="",e.opacity="",e.visiblity=""},addClass:function(e){_V_.addClass(this.el,e)},removeClass:function(e){_V_.removeClass(this.el,e)},addEvent:function(e,t){return _V_.addEvent(this.el,e,_V_.proxy(this,t))},removeEvent:function(e,t){return _V_.removeEvent(this.el,e,t)},triggerEvent:function(e,t){return _V_.triggerEvent(this.el,e,t)},one:function(e,t){_V_.one(this.el,e,_V_.proxy(this,t))},ready:function(e){return e?(this.isReady?e.call(this):(this.readyQueue===undefined&&(this.readyQueue=[]),this.readyQueue.push(e)),this):this},triggerReady:function(){this.isReady=!0,this.readyQueue&&this.readyQueue.length>0&&(this.each(this.readyQueue,function(e){e.call(this)}),this.readyQueue=[],this.triggerEvent("ready"))},each:function(e,t){_V_.each.call(this,e,t)},eachProp:function(e,t){_V_.eachProp.call(this,e,t)},extend:function(e){_V_.merge(this,e)},proxy:function(e,t){return _V_.proxy(this,e,t)}}),_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}}),_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(e,t){this._super(e,t),e.addEvent("play",this.proxy(function(){this.fadeIn(),this.player.addEvent("mouseover",this.proxy(this.fadeIn)),this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super(),this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super(),this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}}),_V_.Button=_V_.Control.extend({init:function(e,t){this._super(e,t),this.addEvent("click",this.onClick),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur)},createElement:function(e,t){return t=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},t),this._super(e,t)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){(32==e.which||13==e.which)&&(e.preventDefault(),this.onClick())},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}}),_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}}),_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(e,t){this._super(e,t),e.addEvent("play",_V_.proxy(this,this.onPlay)),e.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){this.player.paused()?this.player.play():this.player.pause()},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")}}),_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){this.player.isFullScreen?this.player.cancelFullScreen():this.player.requestFullScreen()}}),_V_.BigPlayButton=_V_.Button.extend({init:function(e,t){this._super(e,t),e.addEvent("play",_V_.proxy(this,this.hide)),e.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){this.player.currentTime()&&this.player.currentTime(0),this.player.play()}}),_V_.LoadingSpinner=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("canplay",_V_.proxy(this,this.hide)),e.addEvent("canplaythrough",_V_.proxy(this,this.hide)),e.addEvent("playing",_V_.proxy(this,this.hide)),e.addEvent("seeking",_V_.proxy(this,this.show)),e.addEvent("error",_V_.proxy(this,this.show)),e.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var e,t;return"string"==typeof this.player.el.style.WebkitBorderRadius||"string"==typeof this.player.el.style.MozBorderRadius||"string"==typeof this.player.el.style.KhtmlBorderRadius||"string"==typeof this.player.el.style.borderRadius?(e="vjs-loading-spinner",t="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"):(e="vjs-loading-spinner-fallback",t=""),this._super("div",{className:e,innerHTML:t})}}),_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){var e=this.player.scrubbing?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(e,this.player.duration())}}),_V_.DurationDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){this.player.duration()&&(this.content.innerHTML=_V_.formatTime(this.player.duration()))}}),_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}}),_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){this.player.duration()&&(this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime()))}}),_V_.Slider=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent(this.playerEvent,_V_.proxy(this,this.update)),this.addEvent("mousedown",this.onMouseDown),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur),this.player.addEvent("controlsvisible",this.proxy(this.update)),this.update()},createElement:function(e,t){return t=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),this._super(e,t)},onMouseDown:function(e){e.preventDefault(),_V_.blockTextSelection(),_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove)),_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp)),this.onMouseMove(e)},onMouseUp:function(){_V_.unblockTextSelection(),_V_.removeEvent(document,"mousemove",this.onMouseMove,!1),_V_.removeEvent(document,"mouseup",this.onMouseUp,!1),this.update()},update:function(){var e,t=this.getPercent();if(handle=this.handle,bar=this.bar,isNaN(t)&&(t=0),e=t,handle){var i=this.el,n=i.offsetWidth,s=handle.el.offsetWidth,o=s?s/n:0,a=1-o;adjustedProgress=t*a,e=adjustedProgress+o/2,handle.el.style.left=_V_.round(100*adjustedProgress,2)+"%"}bar.el.style.width=_V_.round(100*e,2)+"%"},calculateDistance:function(e){var t=this.el,i=_V_.findPosX(t),n=t.offsetWidth,s=this.handle;if(s){var o=s.el.offsetWidth;i+=o/2,n-=o}return Math.max(0,Math.min(1,(e.pageX-i)/n))},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){37==e.which?(e.preventDefault(),this.stepBack()):39==e.which&&(e.preventDefault(),this.stepForward())},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}}),_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(e,t){this._super(e,t)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(e){this._super(e),this.player.scrubbing=!0,this.videoWasPlaying=!this.player.paused(),this.player.pause()},onMouseMove:function(e){var t=this.calculateDistance(e)*this.player.duration();t==this.player.duration()&&(t-=.1),this.player.currentTime(t)},onMouseUp:function(e){this._super(e),this.player.scrubbing=!1,this.videoWasPlaying&&this.player.play()},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}}),_V_.LoadProgressBar=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){this.el.style&&(this.el.style.width=_V_.round(100*this.player.bufferedPercent(),2)+"%")}}),_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}}),_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}}),_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}}),_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(e){this.player.volume(this.calculateDistance(e))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+.1)},stepBack:function(){this.player.volume(this.player.volume()-.1)}}),_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.MuteToggle=_V_.Button.extend({init:function(e,t){this._super(e,t),e.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(){this.player.muted(this.player.muted()?!1:!0)},update:function(){var e=this.player.volume(),t=3;0==e||this.player.muted()?t=0:.33>e?t=1:.67>e&&(t=2),_V_.each.call(this,[0,1,2,3],function(e){_V_.removeClass(this.el,"vjs-vol-"+e)}),_V_.addClass(this.el,"vjs-vol-"+t)}}),_V_.PosterImage=_V_.Button.extend({init:function(e,t){this._super(e,t),this.player.options.poster||this.hide(),e.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}}),_V_.Menu=_V_.Component.extend({init:function(e,t){this._super(e,t)},addItem:function(e){this.addComponent(e),e.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}}),_V_.MenuItem=_V_.Button.extend({init:function(e,t){this._super(e,t),t.selected&&this.addClass("vjs-selected")},createElement:function(e,t){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},t))},onClick:function(){this.selected(!0)},selected:function(e){e?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in t&&t[s]===e)return s;return-1}),_V_.extend({addEvent:function(e,t,i){var n,s=_V_.getData(e);s&&!s.handler&&(s.handler=function(t){t=_V_.fixEvent(t);var i=_V_.getData(e).events[t.type];if(i){var n=[];_V_.each(i,function(e,t){n[t]=e});for(var s=0,o=n.length;o>s;s++)n[s].call(e,t)}}),s.events||(s.events={}),n=s.events[t],n||(n=s.events[t]=[],document.addEventListener?e.addEventListener(t,s.handler,!1):document.attachEvent&&e.attachEvent("on"+t,s.handler)),i.guid||(i.guid=_V_.guid++),n.push(i)},removeEvent:function(e,t,i){var n,s=_V_.getData(e);if(s.events)if(t){if(n=s.events[t]){if(i&&i.guid)for(var o=0;o<n.length;o++)n[o].guid===i.guid&&n.splice(o--,1);_V_.cleanUpEvents(e,t)}}else for(t in s.events)_V_.cleanUpEvents(e,t)},cleanUpEvents:function(e,t){var i=_V_.getData(e);0===i.events[t].length&&(delete i.events[t],document.removeEventListener?e.removeEventListener(t,i.handler,!1):document.detachEvent&&e.detachEvent("on"+t,i.handler)),_V_.isEmpty(i.events)&&(delete i.events,delete i.handler),_V_.isEmpty(i)&&_V_.removeData(e)},fixEvent:function(e){if(e[_V_.expando])return e;var t=e;e=new _V_.Event(t);for(var i,n=_V_.Event.props.length;n;)i=_V_.Event.props[--n],e[i]=t[i];if(e.target||(e.target=e.srcElement||document),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var s=e.target.ownerDocument||document,o=s.documentElement,a=s.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}return null!=e.which||null==e.charCode&&null==e.keyCode||(e.which=null!=e.charCode?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),e.which||e.button===undefined||(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},triggerEvent:function(e,t){var i,n=_V_.getData(e),s=(e.parentNode||e.ownerDocument,t.type||t);n&&(i=n.handler),t="object"==typeof t?t[_V_.expando]?t:new _V_.Event(s,t):new _V_.Event(s),t.type=s,i&&i.call(e,t),t.result=undefined,t.target=e},one:function(e,t,i){_V_.addEvent(e,t,function(){_V_.removeEvent(e,t,arguments.callee),i.apply(this,arguments)})}}),_V_.Event=function(e,t){e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&_V_.merge(this,t),this.timeStamp=(new Date).getTime(),this[_V_.expando]=!0},_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");var JSON;JSON||(JSON={}),function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),n!==undefined?s[i]=n:delete s[i]);return reviver.call(e,t,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),_V_.Player=_V_.Component.extend({init:function(e,t,i){this.tag=e;var n=this.el=_V_.createElement("div"),s=this.options={},o=s.width=e.getAttribute("width"),a=s.height=e.getAttribute("height"),r=o||300,l=a||150;if(e.player=n.player=this,this.ready(i),e.parentNode.insertBefore(n,e),n.appendChild(e),n.id=this.id=e.id,n.className=e.className,e.id+="_html5_api",e.className="vjs-tech",_V_.players[n.id]=this,n.setAttribute("width",r),n.setAttribute("height",l),n.style.width=r+"px",n.style.height=l+"px",e.removeAttribute("width"),e.removeAttribute("height"),_V_.merge(s,_V_.options),_V_.merge(s,this.getVideoTagSettings()),_V_.merge(s,t),e.removeAttribute("controls"),e.removeAttribute("poster"),e.hasChildNodes())for(var c=0,u=e.childNodes;c<u.length;c++)("SOURCE"==u[c].nodeName||"TRACK"==u[c].nodeName)&&e.removeChild(u[c]);if(this.values={},this.addClass("vjs-paused"),this.addEvent("ended",this.onEnded),this.addEvent("play",this.onPlay),this.addEvent("pause",this.onPause),this.addEvent("progress",this.onProgress),this.addEvent("error",this.onError),s.controls&&this.ready(function(){this.initComponents()}),this.textTracks=[],s.tracks&&s.tracks.length>0&&this.addTextTracks(s.tracks),s.sources&&0!=s.sources.length)this.src(s.sources);else for(var c=0,u=s.techOrder;c<u.length;c++){var h=u[c],d=_V_[h];if(d.isSupported()){this.loadTech(h);break}}},values:{},destroy:function(){this.stopTrackingProgress(),this.stopTrackingCurrentTime(),_V_.players[this.id]=null,delete _V_.players[this.id],this.tech.destroy(),this.el.parentNode.removeChild(this.el)},createElement:function(){},getVideoTagSettings:function(){var e={sources:[],tracks:[]};if(e.src=this.tag.getAttribute("src"),e.controls=null!==this.tag.getAttribute("controls"),e.poster=this.tag.getAttribute("poster"),e.preload=this.tag.getAttribute("preload"),e.autoplay=null!==this.tag.getAttribute("autoplay"),e.loop=null!==this.tag.getAttribute("loop"),e.muted=null!==this.tag.getAttribute("muted"),this.tag.hasChildNodes())for(var t,i=0,n=this.tag.childNodes;i<n.length;i++)t=n[i],"SOURCE"==t.nodeName&&e.sources.push({src:t.getAttribute("src"),type:t.getAttribute("type"),media:t.getAttribute("media"),title:t.getAttribute("title")}),"TRACK"==t.nodeName&&e.tracks.push({src:t.getAttribute("src"),kind:t.getAttribute("kind"),srclang:t.getAttribute("srclang"),label:t.getAttribute("label"),"default":null!==t.getAttribute("default"),title:t.getAttribute("title")});return e},loadTech:function(e,t){this.tech?this.unloadTech():"html5"!=e&&this.tag&&(this.el.removeChild(this.tag),this.tag=!1),this.techName=e,this.isReady=!1;var i=function(){this.player.triggerReady(),this.support.progressEvent||this.player.manualProgressOn(),this.support.timeupdateEvent||this.player.manualTimeUpdatesOn()},n=_V_.merge({source:t,parentEl:this.el},this.options[e]);t&&(t.src==this.values.src&&this.values.currentTime>0&&(n.startTime=this.values.currentTime),this.values.src=t.src),this.tech=new _V_[e](this,n),this.tech.ready(i)},unloadTech:function(){this.tech.destroy(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},manualProgressOn:function(){this.manualProgress=!0,this.trackProgress(),this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee),this.support.progressEvent=!0,this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=!1,this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){this.values.bufferEnd<this.buffered().end(0)?this.triggerEvent("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.triggerEvent("progress"))}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=!0,this.addEvent("play",this.trackCurrentTime),this.addEvent("pause",this.stopTrackingCurrentTime),this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee),this.support.timeupdateEvent=!0,this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.removeEvent("play",this.trackCurrentTime),this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){this.options.loop?(this.currentTime(0),this.play()):(this.pause(),this.currentTime(0),this.pause())},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")},onProgress:function(){1==this.bufferedPercent()&&this.triggerEvent("loadedalldata")},onError:function(e){_V_.log("Video Error",e)},techCall:function(e,t){if(this.tech.isReady)try{this.tech[e](t)}catch(i){_V_.log(i)}else this.tech.ready(function(){this[e](t)})},techGet:function(e){if(this.tech.isReady)try{return this.tech[e]()}catch(t){this.tech[e]===undefined?_V_.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):"TypeError"==t.name?(_V_.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady=!1):_V_.log(t)}},play:function(){return this.techCall("play"),this},pause:function(){return this.techCall("pause"),this},paused:function(){return this.techGet("paused")===!1?!1:!0},currentTime:function(e){return e!==undefined?(this.values.lastSetCurrentTime=e,this.techCall("setCurrentTime",e),this.manualTimeUpdates&&this.triggerEvent("timeupdate"),this):this.values.currentTime=this.techGet("currentTime")||0},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var e=this.techGet("buffered"),t=0,i=this.values.bufferEnd=this.values.bufferEnd||0;return e&&e.length>0&&e.end(0)!==i&&(i=e.end(0),this.values.bufferEnd=i),_V_.createTimeRange(t,i)},bufferedPercent:function(){return this.duration()?this.buffered().end(0)/this.duration():0},volume:function(e){var t;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.values.volume=t,this.techCall("setVolume",t),_V_.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},muted:function(e){return e!==undefined?(this.techCall("setMuted",e),this):this.techGet("muted")||!1},width:function(e,t){return e!==undefined?(this.el.width=e,this.el.style.width=e+"px",t||this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("width"))},height:function(e){return e!==undefined?(this.el.height=e,this.el.style.height=e+"px",this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("height"))},size:function(e,t){return this.width(e,!0).height(t)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||!1},requestFullScreen:function(){var e=_V_.support.requestFullScreen;return this.isFullScreen=!0,e?(_V_.addEvent(document,e.eventName,this.proxy(function(){this.isFullScreen=document[e.isFullScreen],0==this.isFullScreen&&_V_.removeEvent(document,e.eventName,arguments.callee),this.triggerEvent("fullscreenchange")})),this.tech.support.fullscreenResize===!1&&1!=this.options.flash.iFrameMode?(this.pause(),this.unloadTech(),_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),this.el[e.requestFn]()):this.el[e.requestFn]()):this.tech.supportsFullScreen()?(this.triggerEvent("fullscreenchange"),this.techCall("enterFullScreen")):(this.triggerEvent("fullscreenchange"),this.enterFullWindow()),this
},cancelFullScreen:function(){var e=_V_.support.requestFullScreen;return this.isFullScreen=!1,e?this.tech.support.fullscreenResize===!1&&1!=this.options.flash.iFrameMode?(this.pause(),this.unloadTech(),_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),document[e.cancelFn]()):document[e.cancelFn]():this.tech.supportsFullScreen()?(this.techCall("exitFullScreen"),this.triggerEvent("fullscreenchange")):(this.exitFullWindow(),this.triggerEvent("fullscreenchange")),this},enterFullWindow:function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",_V_.addClass(document.body,"vjs-full-window"),_V_.addClass(this.el,"vjs-fullscreen"),this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(e){27==e.keyCode&&(1==this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())},exitFullWindow:function(){this.isFullWindow=!1,_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,_V_.removeClass(document.body,"vjs-full-window"),_V_.removeClass(this.el,"vjs-fullscreen"),this.triggerEvent("exitFullWindow")},selectSource:function(e){for(var t=0,i=this.options.techOrder;t<i.length;t++){var n=i[t],s=_V_[n];if(s.isSupported())for(var o=0,a=e;o<a.length;o++){var r=a[o];if(s.canPlaySource.call(this,r))return{source:r,tech:n}}}return!1},src:function(e){if(e instanceof Array){var e,t,i=this.selectSource(e);i?(e=i.source,t=i.tech,t==this.techName?this.src(e):this.loadTech(t,e)):_V_.log("No compatible source and playback technology were found.")}else e instanceof Object?_V_[this.techName].canPlaySource(e)?this.src(e.src):this.src([e]):(this.values.src=e,this.isReady?(this.techCall("src",e),"auto"==this.options.preload&&this.load(),this.options.autoplay&&this.play()):this.ready(function(){this.src(e)}));return this},load:function(){return this.techCall("load"),this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(e){return e!==undefined?(this.techCall("setPreload",e),this.options.preload=e,this):this.techGet("preload")},autoplay:function(e){return e!==undefined?(this.techCall("setAutoplay",e),this.options.autoplay=e,this):this.techGet("autoplay",e)},loop:function(e){return e!==undefined?(this.techCall("setLoop",e),this.options.loop=e,this):this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}}),function(){var e,t,i,n;_V_.Player.prototype,document.cancelFullscreen!==undefined?(e="requestFullscreen",t="exitFullscreen",i="fullscreenchange",n="fullScreen"):_V_.each(["moz","webkit"],function(s){"moz"==s&&!document.mozFullScreenEnabled||document[s+"CancelFullScreen"]===undefined||(e=s+"RequestFullScreen",t=s+"CancelFullScreen",i=s+"fullscreenchange",n="webkit"==s?s+"IsFullScreen":s+"FullScreen")}),e&&(_V_.support.requestFullScreen={requestFn:e,cancelFn:t,eventName:i,isFullScreen:n})}(),_V_.PlaybackTech=_V_.Component.extend({init:function(){},onClick:function(){this.player.options.controls&&_V_.PlayToggle.prototype.onClick.call(this)}}),_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(","),_V_.each(_V_.apiMethods,function(e){_V_.PlaybackTech.prototype[e]=function(){throw new Error("The '"+e+"' method is not available on the playback technology's API")}}),_V_.html5=_V_.PlaybackTech.extend({init:function(e,t,i){this.player=e,this.el=this.createElement(),this.ready(i),this.addEvent("click",this.proxy(this.onClick));var n=t.source;n&&this.el.currentSrc==n.src?e.triggerEvent("loadstart"):n&&(this.el.src=n.src),e.ready(function(){this.options.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.setupTriggers(),this.triggerReady()},destroy:function(){this.player.tag=!1,this.removeTriggers(),this.el.parentNode.removeChild(this.el)},createElement:function(){var e,t=(_V_.html5,this.player),i=t.tag;return i&&this.support.movingElementInDOM!==!1||(i&&t.el.removeChild(i),e=_V_.createElement("video",{id:i.id||t.el.id+"_html5_api",className:i.className||"vjs-tech"}),i=e,_V_.insertFirst(i,t.el)),_V_.each(["autoplay","preload","loop","muted"],function(e){null!==t.options[e]&&(i[e]=t.options[e])},this),i},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.addEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.removeEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(e){e.stopPropagation(),this.triggerEvent(e)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(e){try{this.el.currentTime=e}catch(t){_V_.log(t,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(e){this.el.volume=e},muted:function(){return this.el.muted},setMuted:function(e){this.el.muted=e},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){return"function"!=typeof this.el.webkitEnterFullScreen||navigator.userAgent.match("Chrome")||navigator.userAgent.match("Mac OS X 10.5")?!1:!0},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(e){11==e.code&&_V_.log("VideoJS: Video not ready.")}},src:function(e){this.el.src=e},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(e){this.el.preload=e},autoplay:function(){return this.el.autoplay},setAutoplay:function(e){this.el.autoplay=e},loop:function(){return this.el.loop},setLoop:function(e){this.el.loop=e},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}}),_V_.html5.isSupported=function(){return!!document.createElement("video").canPlayType},_V_.html5.canPlaySource=function(e){return!!document.createElement("video").canPlayType(e.type)},_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),_V_.html5.prototype.support={fullscreen:typeof _V_.testVid.webkitEnterFullScreen!==undefined?_V_.ua.match("Chrome")||_V_.ua.match("Mac OS X 10.5")?!1:!0:!1,movingElementInDOM:!_V_.isIOS()},_V_.isAndroid()&&_V_.androidVersion()<3&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&-1!=e.toLowerCase().indexOf("video/mp4")?"maybe":""}),_V_.flash=_V_.PlaybackTech.extend({init:function(e,t){this.player=e;var i=t.source,n=t.parentEl,s=this.el=_V_.createElement("div",{id:n.id+"_temp_flash"}),o=e.el.id+"_flash_api",a=e.options,r=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:a.autoplay,preload:a.preload,loop:a.loop,muted:a.muted},t.flashVars),l=_V_.merge({wmode:"opaque",bgcolor:"#000000"},t.params),c=_V_.merge({id:o,name:o,"class":"vjs-tech"},t.attributes);if(i&&(r.src=encodeURIComponent(_V_.getAbsoluteURL(i.src))),_V_.insertFirst(s,n),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)}),1!=t.iFrameMode||_V_.isFF)_V_.flash.embed(t.swf,s,r,l,c);else{var u=_V_.createElement("iframe",{id:o+"_iframe",name:o+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});r.readyFunction="ready",r.eventProxyFunction="events",r.errorEventProxyFunction="errors",_V_.addEvent(u,"load",_V_.proxy(this,function(){var e,i=u.contentWindow;e=u.contentDocument?u.contentDocument:u.contentWindow.document,e.write(_V_.flash.getEmbedCode(t.swf,r,l,c)),i.player=this.player,i.ready=_V_.proxy(this.player,function(t){var i=e.getElementById(t),n=this,s=n.tech;s.el=i,_V_.addEvent(i,"click",s.proxy(s.onClick)),_V_.flash.checkReady(s)}),i.events=_V_.proxy(this.player,function(e,t){var i=this;i&&"flash"==i.techName&&i.triggerEvent(t)}),i.errors=_V_.proxy(this.player,function(e,t){_V_.log("Flash Error",t)})})),s.parentNode.replaceChild(u,s)}},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(e){if(e=_V_.getAbsoluteURL(e),this.el.vjs_src(e),this.player.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return!1},enterFullScreen:function(){return!1}}),function(){var e=_V_.flash.prototype,t="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),i="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");"load,play,pause".split(","),createSetter=function(t){var i=t.charAt(0).toUpperCase()+t.slice(1);e["set"+i]=function(e){return this.el.vjs_setProperty(t,e)}},createGetter=function(t){e[t]=function(){return this.el.vjs_getProperty(t)}},_V_.each(t,function(e){createGetter(e),createSetter(e)}),_V_.each(i,function(e){createGetter(e)})}(),_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10},_V_.flash.canPlaySource=function(e){return e.type in _V_.flash.prototype.support.formats?"maybe":void 0},_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:!1,timeupdateEvent:!1,fullscreenResize:!1,parentResize:!_V_.ua.match("Firefox")},_V_.flash.onReady=function(e){var t=_V_.el(e),i=t.player||t.parentNode.player,n=i.tech;t.player=i,n.el=t,n.addEvent("click",n.onClick),_V_.flash.checkReady(n)},_V_.flash.checkReady=function(e){e.el.vjs_getProperty?e.triggerReady():setTimeout(function(){_V_.flash.checkReady(e)},50)},_V_.flash.onEvent=function(e,t){var i=_V_.el(e).player;i.triggerEvent(t)},_V_.flash.onError=function(e,t){var i=_V_.el(e).player;i.triggerEvent("error"),_V_.log("Flash Error",t,e)},_V_.flash.version=function(){var e="0,0,0";try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return e.split(",")},_V_.flash.embed=function(e,t,i,n,s){var o=_V_.flash.getEmbedCode(e,i,n,s),a=_V_.createElement("div",{innerHTML:o}).childNodes[0],r=t.parentNode;if(t.parentNode.replaceChild(a,t),_V_.isIE()){var l=r.childNodes[0];setTimeout(function(){l.style.display="block"},1e3)}return a},_V_.flash.getEmbedCode=function(e,t,i,n){var s='<object type="application/x-shockwave-flash"',o="",a="";return attrsString="",t&&_V_.eachProp(t,function(e,t){o+=e+"="+t+"&amp;"}),i=_V_.merge({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},i),_V_.eachProp(i,function(e,t){a+='<param name="'+e+'" value="'+t+'" />'}),n=_V_.merge({data:e,width:"100%",height:"100%"},n),_V_.eachProp(n,function(e,t){attrsString+=e+'="'+t+'" '}),s+attrsString+">"+a+"</object>"},_V_.merge(_V_.Player.prototype,{addTextTracks:function(e){for(var t,i,n=this.textTracks=this.textTracks?this.textTracks:[],s=0,o=e.length;o>s;s++)i=_V_.uc(e[s].kind||"subtitles"),t=new _V_[i+"Track"](this,e[s]),n.push(t),t["default"]&&this.ready(_V_.proxy(t,t.show));return this},showTextTrack:function(e,t){for(var i,n,s,o=this.textTracks,a=0,r=o.length;r>a;a++)i=o[a],i.id===e?(i.show(),n=i):t&&i.kind==t&&i.mode>0&&i.disable();return s=n?n.kind:t?t:!1,s&&this.triggerEvent(s+"trackchange"),this}}),_V_.Track=_V_.Component.extend({init:function(e,t){this._super(e,t),_V_.merge(this,{id:t.id||"vjs_"+t.kind+"_"+t.language+"_"+_V_.guid++,src:t.src,"default":t["default"],title:t.title,language:t.srclang,label:t.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate(),this.mode=2,this._super()},hide:function(){this.activate(),this.mode=1,this._super()},disable:function(){2==this.mode&&this.hide(),this.deactivate(),this.mode=0},activate:function(){0==this.readyState&&this.load(),0==this.mode&&(this.player.addEvent("timeupdate",this.proxy(this.update,this.id)),this.player.addEvent("ended",this.proxy(this.reset,this.id)),("captions"==this.kind||"subtitles"==this.kind)&&this.player.textTrackDisplay.addComponent(this))},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id)),this.player.removeEvent("ended",this.proxy(this.reset,this.id)),this.reset(),this.player.textTrackDisplay.removeComponent(this)},load:function(){0==this.readyState&&(this.readyState=1,_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError)))},onError:function(e){this.error=e,this.readyState=3,this.triggerEvent("error")},parseCues:function(e){for(var t,i,n,s,o=e.split("\n"),a="",r=1,l=o.length;l>r;r++)if(a=_V_.trim(o[r])){for(-1==a.indexOf("-->")?(s=a,a=_V_.trim(o[++r])):s=this.cues.length,t={id:s,index:this.cues.length},i=a.split(" --> "),t.startTime=this.parseCueTime(i[0]),t.endTime=this.parseCueTime(i[1]),n=[];o[++r]&&(a=_V_.trim(o[r]));)n.push(a);t.text=n.join("<br/>"),this.cues.push(t)}this.readyState=2,this.triggerEvent("loaded")},parseCueTime:function(e){var t,i,n,s,o,a=e.split(":"),r=0;return 3==a.length?(t=a[0],i=a[1],n=a[2]):(t=0,i=a[0],n=a[1]),n=n.split(/\s+/),s=n.splice(0,1)[0],s=s.split(/\.|,/),o=parseFloat(s[1]),s=s[0],r+=3600*parseFloat(t),r+=60*parseFloat(i),r+=parseFloat(s),o&&(r+=o/1e3),r},update:function(){if(this.cues.length>0){var e=this.player.currentTime();if(this.prevChange===undefined||e<this.prevChange||this.nextChange<=e){var t,i,n,s,o=this.cues,a=this.player.duration(),r=0,l=!1,c=[];for(e>=this.nextChange||this.nextChange===undefined?s=this.firstActiveIndex!==undefined?this.firstActiveIndex:0:(l=!0,s=this.lastActiveIndex!==undefined?this.lastActiveIndex:o.length-1);;){if(n=o[s],n.endTime<=e)r=Math.max(r,n.endTime),n.active&&(n.active=!1);else if(e<n.startTime){if(a=Math.min(a,n.startTime),n.active&&(n.active=!1),!l)break}else l?(c.splice(0,0,n),i===undefined&&(i=s),t=s):(c.push(n),t===undefined&&(t=s),i=s),a=Math.min(a,n.endTime),r=Math.max(r,n.startTime),n.active=!0;if(l){if(0===s)break;s--}else{if(s===o.length-1)break;s++}}this.activeCues=c,this.nextChange=a,this.prevChange=r,this.firstActiveIndex=t,this.lastActiveIndex=i,this.updateDisplay(),this.triggerEvent("cuechange")}}},updateDisplay:function(){for(var e=this.activeCues,t="",i=0,n=e.length;n>i;i++)t+="<span class='vjs-tt-cue'>"+e[i].text+"</span>";this.el.innerHTML=t},reset:function(){this.nextChange=0,this.prevChange=this.player.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0}}),_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"}),_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"}),_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"}),_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}}),_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var i=this.track=t.track;t.label=i.label,t.selected=i["default"],this._super(e,t),this.player.addEvent(i.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){2==this.track.mode?this.selected(!0):this.selected(!1)}}),_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:"Off"},this._super(e,t)},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){for(var e,t=this.player.textTracks,i=0,n=t.length,s=!0;n>i;i++)e=t[i],e.kind==this.track.kind&&2==e.mode&&(s=!1);s?this.selected(!0):this.selected(!1)}}),_V_.TextTrackButton=_V_.Button.extend({init:function(e,t){this._super(e,t),this.menu=this.createMenu(),0===this.items.length&&this.hide()},createMenu:function(){var e=new _V_.Menu(this.player);return e.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),e.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind})),this.items=this.createItems(),this.each(this.items,function(t){e.addItem(t)}),this.addComponent(e),e},createItems:function(){var e=[];return this.each(this.player.textTracks,function(t){t.kind===this.kind&&e.push(new _V_.TextTrackMenuItem(this.player,{track:t}))}),e},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing(),_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing(),this.el.blur()}))}}),_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"}),_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"}),_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(){var e=[];return this.each(this.player.textTracks,function(t){t.kind===this.kind&&e.push(new _V_.TextTrackMenuItem(this.player,{track:t}))}),e},createMenu:function(){for(var e,t,i=this.player.textTracks,n=0,s=i.length,o=this.items=[];s>n;n++)if(e=i[n],e.kind==this.kind&&e["default"]){if(e.readyState<2)return this.chaptersTrack=e,e.addEvent("loaded",this.proxy(this.createMenu)),void 0;t=e;break}var a=this.menu=new _V_.Menu(this.player);if(a.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),t)for(var r,l,c=t.cues,n=0,s=c.length;s>n;n++)r=c[n],l=new _V_.ChaptersTrackMenuItem(this.player,{track:t,cue:r}),o.push(l),a.addComponent(l);return this.addComponent(a),this.items.length>0&&this.show(),a}}),_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var i=this.track=t.track,n=this.cue=t.cue,s=e.currentTime();t.label=n.text,t.selected=n.startTime<=s&&s<n.endTime,this._super(e,t),i.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.currentTime(this.cue.startTime),this.update(this.cue.startTime)},update:function(){var e=this.cue,t=this.player.currentTime();e.startTime<=t&&t<e.endTime?this.selected(!0):this.selected(!1)}}),_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),_V_.autoSetup=function(){var e,t,i,n=document.getElementsByTagName("video");if(n&&n.length>0)for(var s=0,o=n.length;o>s;s++){if(t=n[s],!t||!t.getAttribute){_V_.autoSetupTimeout(1);break}t.player===undefined&&(e=t.getAttribute("data-setup"),null!==e&&(e=JSON.parse(e||"{}"),i=_V_(t,e)))}else _V_.windowLoaded||_V_.autoSetupTimeout(1)},_V_.autoSetupTimeout=function(e){setTimeout(_V_.autoSetup,e)},_V_.addEvent(window,"load",function(){_V_.windowLoaded=!0}),_V_.autoSetup(),window.VideoJS=window._V_=VideoJS}(window);